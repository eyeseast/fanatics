/* esm.sh - esbuild bundle(domhandler@2.4.2) denonext production */
import * as __0$ from "/v129/domelementtype@1.3.1/denonext/domelementtype.mjs";
var require=n=>{const e=m=>typeof m.default<"u"?m.default:m,c=m=>Object.assign({},m);switch(n){case"domelementtype":return e(__0$);default:throw new Error("module \""+n+"\" not found");}};
var k=Object.create;var p=Object.defineProperty;var I=Object.getOwnPropertyDescriptor;var T=Object.getOwnPropertyNames;var w=Object.getPrototypeOf,C=Object.prototype.hasOwnProperty;var O=(t=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(t,{get:(e,n)=>(typeof require<"u"?require:e)[n]}):t)(function(t){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+t+'" is not supported')});var c=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),j=(t,e)=>{for(var n in e)p(t,n,{get:e[n],enumerable:!0})},l=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let h of T(e))!C.call(t,h)&&h!==n&&p(t,h,{get:()=>e[h],enumerable:!(r=I(e,h))||r.enumerable});return t},s=(t,e,n)=>(l(t,e,"default"),n&&l(n,e,"default")),m=(t,e,n)=>(n=t!=null?k(w(t)):{},l(e||!t||!t.__esModule?p(n,"default",{value:t,enumerable:!0}):n,t));var d=c((V,y)=>{var P=y.exports={get firstChild(){var t=this.children;return t&&t[0]||null},get lastChild(){var t=this.children;return t&&t[t.length-1]||null},get nodeType(){return g[this.type]||g.element}},_={tagName:"name",childNodes:"children",parentNode:"parent",previousSibling:"prev",nextSibling:"next",nodeValue:"data"},g={element:1,text:3,cdata:4,comment:8};Object.keys(_).forEach(function(t){var e=_[t];Object.defineProperty(P,t,{get:function(){return this[e]||null},set:function(n){return this[e]=n,n}})})});var S=c((F,x)=>{var N=d(),q=x.exports=Object.create(N),v={tagName:"name"};Object.keys(v).forEach(function(t){var e=v[t];Object.defineProperty(q,t,{get:function(){return this[e]||null},set:function(n){return this[e]=n,n}})})});var f=c((G,b)=>{var a=O("domelementtype"),u=/\s+/g,z=d(),L=S();function i(t,e,n){typeof t=="object"?(n=e,e=t,t=null):typeof e=="function"&&(n=e,e=E),this._callback=t,this._options=e||E,this._elementCB=n,this.dom=[],this._done=!1,this._tagStack=[],this._parser=this._parser||null}var E={normalizeWhitespace:!1,withStartIndices:!1,withEndIndices:!1};i.prototype.onparserinit=function(t){this._parser=t};i.prototype.onreset=function(){i.call(this,this._callback,this._options,this._elementCB)};i.prototype.onend=function(){this._done||(this._done=!0,this._parser=null,this._handleCallback(null))};i.prototype._handleCallback=i.prototype.onerror=function(t){if(typeof this._callback=="function")this._callback(t,this.dom);else if(t)throw t};i.prototype.onclosetag=function(){var t=this._tagStack.pop();this._options.withEndIndices&&t&&(t.endIndex=this._parser.endIndex),this._elementCB&&this._elementCB(t)};i.prototype._createDomElement=function(t){if(!this._options.withDomLvl1)return t;var e;t.type==="tag"?e=Object.create(L):e=Object.create(z);for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e};i.prototype._addDomElement=function(t){var e=this._tagStack[this._tagStack.length-1],n=e?e.children:this.dom,r=n[n.length-1];t.next=null,this._options.withStartIndices&&(t.startIndex=this._parser.startIndex),this._options.withEndIndices&&(t.endIndex=this._parser.endIndex),r?(t.prev=r,r.next=t):t.prev=null,n.push(t),t.parent=e||null};i.prototype.onopentag=function(t,e){var n={type:t==="script"?a.Script:t==="style"?a.Style:a.Tag,name:t,attribs:e,children:[]},r=this._createDomElement(n);this._addDomElement(r),this._tagStack.push(r)};i.prototype.ontext=function(t){var e=this._options.normalizeWhitespace||this._options.ignoreWhitespace,n;if(!this._tagStack.length&&this.dom.length&&(n=this.dom[this.dom.length-1]).type===a.Text)e?n.data=(n.data+t).replace(u," "):n.data+=t;else if(this._tagStack.length&&(n=this._tagStack[this._tagStack.length-1])&&(n=n.children[n.children.length-1])&&n.type===a.Text)e?n.data=(n.data+t).replace(u," "):n.data+=t;else{e&&(t=t.replace(u," "));var r=this._createDomElement({data:t,type:a.Text});this._addDomElement(r)}};i.prototype.oncomment=function(t){var e=this._tagStack[this._tagStack.length-1];if(e&&e.type===a.Comment){e.data+=t;return}var n={data:t,type:a.Comment},r=this._createDomElement(n);this._addDomElement(r),this._tagStack.push(r)};i.prototype.oncdatastart=function(){var t={children:[{data:"",type:a.Text}],type:a.CDATA},e=this._createDomElement(t);this._addDomElement(e),this._tagStack.push(e)};i.prototype.oncommentend=i.prototype.oncdataend=function(){this._tagStack.pop()};i.prototype.onprocessinginstruction=function(t,e){var n=this._createDomElement({name:t,data:e,type:a.Directive});this._addDomElement(n)};b.exports=i});var o={};j(o,{default:()=>B});var W=m(f());s(o,m(f()));var{default:D,...A}=W,B=D!==void 0?D:A;export{B as default};
//# sourceMappingURL=domhandler.mjs.map