/* esm.sh - esbuild bundle(domutils@1.7.0) denonext production */
import * as __0$ from "/v129/dom-serializer@0.2.2/denonext/dom-serializer.mjs";
import * as __1$ from "/v129/domelementtype@1.3.1/denonext/domelementtype.mjs";
var require=n=>{const e=m=>typeof m.default<"u"?m.default:m,c=m=>Object.assign({},m);switch(n){case"dom-serializer":return e(__0$);case"domelementtype":return e(__1$);default:throw new Error("module \""+n+"\" not found");}};
var V=Object.create;var I=Object.defineProperty;var z=Object.getOwnPropertyDescriptor;var J=Object.getOwnPropertyNames;var K=Object.getPrototypeOf,Q=Object.prototype.hasOwnProperty;var l=(r=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(r,{get:(n,t)=>(typeof require<"u"?require:n)[t]}):r)(function(r){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+r+'" is not supported')});var o=(r,n)=>()=>(n||r((n={exports:{}}).exports,n),n.exports),X=(r,n)=>{for(var t in n)I(r,t,{get:n[t],enumerable:!0})},E=(r,n,t,i)=>{if(n&&typeof n=="object"||typeof n=="function")for(let e of J(n))!Q.call(r,e)&&e!==t&&I(r,e,{get:()=>n[e],enumerable:!(i=z(n,e))||i.enumerable});return r},v=(r,n,t)=>(E(r,n,"default"),t&&E(t,n,"default")),P=(r,n,t)=>(t=r!=null?V(K(r)):{},E(n||!r||!r.__esModule?I(t,"default",{value:r,enumerable:!0}):t,r));var q=o((sr,L)=>{var N=l("domelementtype"),D=l("dom-serializer"),Z=N.isTag;L.exports={getInnerHTML:$,getOuterHTML:D,getText:x};function $(r,n){return r.children?r.children.map(function(t){return D(t,n)}).join(""):""}function x(r){return Array.isArray(r)?r.map(x).join(""):Z(r)?r.name==="br"?`
`:x(r.children):r.type===N.CDATA?x(r.children):r.type===N.Text?r.data:""}});var S=o(s=>{var k=s.getChildren=function(r){return r.children},m=s.getParent=function(r){return r.parent};s.getSiblings=function(r){var n=m(r);return n?k(n):[r]};s.getAttributeValue=function(r,n){return r.attribs&&r.attribs[n]};s.hasAttrib=function(r,n){return!!r.attribs&&hasOwnProperty.call(r.attribs,n)};s.getName=function(r){return r.name}});var w=o(d=>{d.removeElement=function(r){if(r.prev&&(r.prev.next=r.next),r.next&&(r.next.prev=r.prev),r.parent){var n=r.parent.children;n.splice(n.lastIndexOf(r),1)}};d.replaceElement=function(r,n){var t=n.prev=r.prev;t&&(t.next=n);var i=n.next=r.next;i&&(i.prev=n);var e=n.parent=r.parent;if(e){var f=e.children;f[f.lastIndexOf(r)]=n}};d.appendChild=function(r,n){if(n.parent=r,r.children.push(n)!==1){var t=r.children[r.children.length-2];t.next=n,n.prev=t,n.next=null}};d.append=function(r,n){var t=r.parent,i=r.next;if(n.next=i,n.prev=r,r.next=n,n.parent=t,i){if(i.prev=n,t){var e=t.children;e.splice(e.lastIndexOf(i),0,n)}}else t&&t.children.push(n)};d.prepend=function(r,n){var t=r.parent;if(t){var i=t.children;i.splice(i.lastIndexOf(r),0,n)}r.prev&&(r.prev.next=n),n.parent=t,n.prev=r.prev,n.next=r,r.prev=n}});var H=o((gr,j)=>{var y=l("domelementtype").isTag;j.exports={filter:rr,find:C,findOneChild:nr,findOne:G,existsOne:F,findAll:tr};function rr(r,n,t,i){return Array.isArray(n)||(n=[n]),(typeof i!="number"||!isFinite(i))&&(i=1/0),C(r,n,t!==!1,i)}function C(r,n,t,i){for(var e=[],f,u=0,O=n.length;u<O&&!(r(n[u])&&(e.push(n[u]),--i<=0)||(f=n[u].children,t&&f&&f.length>0&&(f=C(r,f,t,i),e=e.concat(f),i-=f.length,i<=0)));u++);return e}function nr(r,n){for(var t=0,i=n.length;t<i;t++)if(r(n[t]))return n[t];return null}function G(r,n){for(var t=null,i=0,e=n.length;i<e&&!t;i++)if(y(n[i]))r(n[i])?t=n[i]:n[i].children.length>0&&(t=G(r,n[i].children));else continue;return t}function F(r,n){for(var t=0,i=n.length;t<i;t++)if(y(n[t])&&(r(n[t])||n[t].children.length>0&&F(r,n[t].children)))return!0;return!1}function tr(r,n){for(var t=[],i=n.slice();i.length;){var e=i.shift();y(e)&&(e.children&&e.children.length>0&&i.unshift.apply(i,e.children),r(e)&&t.push(e))}return t}});var R=o(h=>{var ir=l("domelementtype"),p=h.isTag=ir.isTag;h.testElement=function(r,n){for(var t in r)if(r.hasOwnProperty(t)){if(t==="tag_name"){if(!p(n)||!r.tag_name(n.name))return!1}else if(t==="tag_type"){if(!r.tag_type(n.type))return!1}else if(t==="tag_contains"){if(p(n)||!r.tag_contains(n.data))return!1}else if(!n.attribs||!r[t](n.attribs[t]))return!1}return!0};var b={tag_name:function(r){return typeof r=="function"?function(n){return p(n)&&r(n.name)}:r==="*"?p:function(n){return p(n)&&n.name===r}},tag_type:function(r){return typeof r=="function"?function(n){return r(n.type)}:function(n){return n.type===r}},tag_contains:function(r){return typeof r=="function"?function(n){return!p(n)&&r(n.data)}:function(n){return!p(n)&&n.data===r}}};function M(r,n){return typeof n=="function"?function(t){return t.attribs&&n(t.attribs[r])}:function(t){return t.attribs&&t.attribs[r]===n}}function er(r,n){return function(t){return r(t)||n(t)}}h.getElements=function(r,n,t,i){var e=Object.keys(r).map(function(f){var u=r[f];return f in b?b[f](u):M(f,u)});return e.length===0?[]:this.filter(e.reduce(er),n,t,i)};h.getElementById=function(r,n,t){return Array.isArray(n)||(n=[n]),this.findOne(M("id",r),n,t!==!1)};h.getElementsByTagName=function(r,n,t,i){return this.filter(b.tag_name(r),n,t,i)};h.getElementsByTagType=function(r,n,t,i){return this.filter(b.tag_type(r),n,t,i)}});var W=o(T=>{T.removeSubsets=function(r){for(var n=r.length,t,i,e;--n>-1;){for(t=i=r[n],r[n]=null,e=!0;i;){if(r.indexOf(i)>-1){e=!1,r.splice(n,1);break}i=i.parent}e&&(r[n]=t)}return r};var a={DISCONNECTED:1,PRECEDING:2,FOLLOWING:4,CONTAINS:8,CONTAINED_BY:16},fr=T.compareDocumentPosition=function(r,n){var t=[],i=[],e,f,u,O,A,c;if(r===n)return 0;for(e=r;e;)t.unshift(e),e=e.parent;for(e=n;e;)i.unshift(e),e=e.parent;for(c=0;t[c]===i[c];)c++;return c===0?a.DISCONNECTED:(f=t[c-1],u=f.children,O=t[c],A=i[c],u.indexOf(O)>u.indexOf(A)?f===n?a.FOLLOWING|a.CONTAINED_BY:a.FOLLOWING:f===r?a.PRECEDING|a.CONTAINS:a.PRECEDING)};T.uniqueSort=function(r){var n=r.length,t,i;for(r=r.slice();--n>-1;)t=r[n],i=r.indexOf(t),i>-1&&i<n&&r.splice(n,1);return r.sort(function(e,f){var u=fr(e,f);return u&a.PRECEDING?-1:u&a.FOLLOWING?1:0}),r}});var _=o((Or,Y)=>{var B=Y.exports;[q(),S(),w(),H(),R(),W()].forEach(function(r){Object.keys(r).forEach(function(n){B[n]=r[n].bind(B)})})});var g={};X(g,{default:()=>cr});var ur=P(_());v(g,P(_()));var{default:U,...ar}=ur,cr=U!==void 0?U:ar;export{cr as default};
//# sourceMappingURL=domutils.mjs.map