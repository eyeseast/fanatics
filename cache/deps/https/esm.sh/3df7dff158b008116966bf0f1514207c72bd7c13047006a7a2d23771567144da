/* esm.sh - esbuild bundle(css-select@1.2.0) denonext production */
import * as __0$ from "/v129/nth-check@1.0.2/denonext/nth-check.mjs";
import * as __1$ from "/v129/css-what@2.1.3/denonext/css-what.mjs";
import * as __2$ from "/v129/boolbase@1.0.0/denonext/boolbase.mjs";
import * as __3$ from "/v129/domutils@1.5.1/denonext/domutils.mjs";
var require=n=>{const e=m=>typeof m.default<"u"?m.default:m,c=m=>Object.assign({},m);switch(n){case"nth-check":return e(__0$);case"css-what":return e(__1$);case"boolbase":return e(__2$);case"domutils":return e(__3$);default:throw new Error("module \""+n+"\" not found");}};
var Or=Object.create;var k=Object.defineProperty;var Pr=Object.getOwnPropertyDescriptor;var Ur=Object.getOwnPropertyNames;var Dr=Object.getPrototypeOf,Nr=Object.prototype.hasOwnProperty;var l=(r=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(r,{get:(t,n)=>(typeof require<"u"?require:t)[n]}):r)(function(r){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+r+'" is not supported')});var y=(r,t)=>()=>(t||r((t={exports:{}}).exports,t),t.exports),Rr=(r,t)=>{for(var n in t)k(r,n,{get:t[n],enumerable:!0})},M=(r,t,n,e)=>{if(t&&typeof t=="object"||typeof t=="function")for(let u of Ur(t))!Nr.call(r,u)&&u!==n&&k(r,u,{get:()=>t[u],enumerable:!(e=Pr(t,u))||e.enumerable});return r},C=(r,t,n)=>(M(r,t,"default"),n&&M(n,t,"default")),X=(r,t,n)=>(n=r!=null?Or(Dr(r)):{},M(t||!r||!r.__esModule?k(n,"default",{value:r,enumerable:!0}):n,r));var I=y((St,rr)=>{var j=l("domutils"),Mr=j.hasAttrib,o=j.getAttributeValue,O=l("boolbase").falseFunc,Y=/[-[\]{}()*+?.,\\^$|#\s]/g,Z={__proto__:null,equals:function(r,t){var n=t.name,e=t.value;return t.ignoreCase?(e=e.toLowerCase(),function(i){var a=o(i,n);return a!=null&&a.toLowerCase()===e&&r(i)}):function(i){return o(i,n)===e&&r(i)}},hyphen:function(r,t){var n=t.name,e=t.value,u=e.length;return t.ignoreCase?(e=e.toLowerCase(),function(a){var s=o(a,n);return s!=null&&(s.length===u||s.charAt(u)==="-")&&s.substr(0,u).toLowerCase()===e&&r(a)}):function(a){var s=o(a,n);return s!=null&&s.substr(0,u)===e&&(s.length===u||s.charAt(u)==="-")&&r(a)}},element:function(r,t){var n=t.name,e=t.value;if(/\s/.test(e))return O;e=e.replace(Y,"\\$&");var u="(?:^|\\s)"+e+"(?:$|\\s)",i=t.ignoreCase?"i":"",a=new RegExp(u,i);return function(w){var W=o(w,n);return W!=null&&a.test(W)&&r(w)}},exists:function(r,t){var n=t.name;return function(u){return Mr(u,n)&&r(u)}},start:function(r,t){var n=t.name,e=t.value,u=e.length;return u===0?O:t.ignoreCase?(e=e.toLowerCase(),function(a){var s=o(a,n);return s!=null&&s.substr(0,u).toLowerCase()===e&&r(a)}):function(a){var s=o(a,n);return s!=null&&s.substr(0,u)===e&&r(a)}},end:function(r,t){var n=t.name,e=t.value,u=-e.length;return u===0?O:t.ignoreCase?(e=e.toLowerCase(),function(a){var s=o(a,n);return s!=null&&s.substr(u).toLowerCase()===e&&r(a)}):function(a){var s=o(a,n);return s!=null&&s.substr(u)===e&&r(a)}},any:function(r,t){var n=t.name,e=t.value;if(e==="")return O;if(t.ignoreCase){var u=new RegExp(e.replace(Y,"\\$&"),"i");return function(a){var s=o(a,n);return s!=null&&u.test(s)&&r(a)}}return function(a){var s=o(a,n);return s!=null&&s.indexOf(e)>=0&&r(a)}},not:function(r,t){var n=t.name,e=t.value;return e===""?function(i){return!!o(i,n)&&r(i)}:t.ignoreCase?(e=e.toLowerCase(),function(i){var a=o(i,n);return a!=null&&a.toLowerCase()!==e&&r(i)}):function(i){return o(i,n)!==e&&r(i)}}};rr.exports={compile:function(r,t,n){if(n&&n.strict&&(t.ignoreCase||t.action==="not"))throw SyntaxError("Unsupported attribute selector");return Z[t.action](r,t)},rules:Z}});var D=y((_t,ar)=>{var p=l("domutils"),c=p.isTag,tr=p.getText,$=p.getParent,nr=p.getChildren,g=p.getSiblings,h=p.hasAttrib,f=p.getName,er=p.getAttributeValue,P=l("nth-check"),kr=I().rules.equals,ir=l("boolbase"),A=ir.trueFunc,S=ir.falseFunc;function Ir(r){for(var t=0;r&&t<r.length;t++)if(c(r[t]))return r[t]}function m(r,t){var n={name:r,value:t};return function(u){return kr(u,n)}}function U(r){return function(t){return!!$(t)&&r(t)}}var _={contains:function(r,t){return function(e){return r(e)&&tr(e).indexOf(t)>=0}},icontains:function(r,t){var n=t.toLowerCase();return function(u){return r(u)&&tr(u).toLowerCase().indexOf(n)>=0}},"nth-child":function(r,t){var n=P(t);return n===S?n:n===A?U(r):function(u){for(var i=g(u),a=0,s=0;a<i.length;a++)if(c(i[a])){if(i[a]===u)break;s++}return n(s)&&r(u)}},"nth-last-child":function(r,t){var n=P(t);return n===S?n:n===A?U(r):function(u){for(var i=g(u),a=0,s=i.length-1;s>=0;s--)if(c(i[s])){if(i[s]===u)break;a++}return n(a)&&r(u)}},"nth-of-type":function(r,t){var n=P(t);return n===S?n:n===A?U(r):function(u){for(var i=g(u),a=0,s=0;s<i.length;s++)if(c(i[s])){if(i[s]===u)break;f(i[s])===f(u)&&a++}return n(a)&&r(u)}},"nth-last-of-type":function(r,t){var n=P(t);return n===S?n:n===A?U(r):function(u){for(var i=g(u),a=0,s=i.length-1;s>=0;s--)if(c(i[s])){if(i[s]===u)break;f(i[s])===f(u)&&a++}return n(a)&&r(u)}},root:function(r){return function(t){return!$(t)&&r(t)}},scope:function(r,t,n,e){return!e||e.length===0?_.root(r):e.length===1?function(u){return e[0]===u&&r(u)}:function(u){return e.indexOf(u)>=0&&r(u)}},checkbox:m("type","checkbox"),file:m("type","file"),password:m("type","password"),radio:m("type","radio"),reset:m("type","reset"),image:m("type","image"),submit:m("type","submit")},E={empty:function(r){return!nr(r).some(function(t){return c(t)||t.type==="text"})},"first-child":function(r){return Ir(g(r))===r},"last-child":function(r){for(var t=g(r),n=t.length-1;n>=0;n--){if(t[n]===r)return!0;if(c(t[n]))break}return!1},"first-of-type":function(r){for(var t=g(r),n=0;n<t.length;n++)if(c(t[n])){if(t[n]===r)return!0;if(f(t[n])===f(r))break}return!1},"last-of-type":function(r){for(var t=g(r),n=t.length-1;n>=0;n--)if(c(t[n])){if(t[n]===r)return!0;if(f(t[n])===f(r))break}return!1},"only-of-type":function(r){for(var t=g(r),n=0,e=t.length;n<e;n++)if(c(t[n])){if(t[n]===r)continue;if(f(t[n])===f(r))return!1}return!0},"only-child":function(r){for(var t=g(r),n=0;n<t.length;n++)if(c(t[n])&&t[n]!==r)return!1;return!0},link:function(r){return h(r,"href")},visited:S,selected:function(r){if(h(r,"selected"))return!0;if(f(r)!=="option")return!1;var t=$(r);if(!t||f(t)!=="select"||h(t,"multiple"))return!1;for(var n=nr(t),e=!1,u=0;u<n.length;u++)if(c(n[u]))if(n[u]===r)e=!0;else if(e){if(h(n[u],"selected"))return!1}else return!1;return e},disabled:function(r){return h(r,"disabled")},enabled:function(r){return!h(r,"disabled")},checked:function(r){return h(r,"checked")||E.selected(r)},required:function(r){return h(r,"required")},optional:function(r){return!h(r,"required")},parent:function(r){return!E.empty(r)},header:function(r){var t=f(r);return t==="h1"||t==="h2"||t==="h3"||t==="h4"||t==="h5"||t==="h6"},button:function(r){var t=f(r);return t==="button"||t==="input"&&er(r,"type")==="button"},input:function(r){var t=f(r);return t==="input"||t==="textarea"||t==="select"||t==="button"},text:function(r){var t;return f(r)==="input"&&(!(t=er(r,"type"))||t.toLowerCase()==="text")}};function ur(r,t,n){if(n===null){if(r.length>1&&t!=="scope")throw new SyntaxError("pseudo-selector :"+t+" requires an argument")}else if(r.length===1)throw new SyntaxError("pseudo-selector :"+t+" doesn't have any arguments")}var $r=/^(?:(?:nth|last|first|only)-(?:child|of-type)|root|empty|(?:en|dis)abled|checked|not)$/;ar.exports={compile:function(r,t,n,e){var u=t.name,i=t.data;if(n&&n.strict&&!$r.test(u))throw SyntaxError(":"+u+" isn't part of CSS3");if(typeof _[u]=="function")return ur(_[u],u,i),_[u](r,i,n,e);if(typeof E[u]=="function"){var a=E[u];return ur(a,u,i),r===A?a:function(w){return a(w,i)&&r(w)}}else throw new SyntaxError("unmatched pseudo-class :"+u)},filters:_,pseudos:E}});var cr=y((Et,or)=>{var q=l("domutils"),B=q.isTag,sr=q.getParent,Br=q.getChildren,fr=q.getSiblings,Vr=q.getName;or.exports={__proto__:null,attribute:I().compile,pseudo:D().compile,tag:function(r,t){var n=t.name;return function(u){return Vr(u)===n&&r(u)}},descendant:function(r,t,n,e,u){return function(a){if(u&&r(a))return!0;for(var s=!1;!s&&(a=sr(a));)s=r(a);return s}},parent:function(r,t,n){if(n&&n.strict)throw SyntaxError("Parent selector isn't part of CSS3");return function(i){return Br(i).some(e)};function e(u){return B(u)&&r(u)}},child:function(r){return function(n){var e=sr(n);return!!e&&r(e)}},sibling:function(r){return function(n){for(var e=fr(n),u=0;u<e.length;u++)if(B(e[u])){if(e[u]===n)break;if(r(e[u]))return!0}return!1}},adjacent:function(r){return function(n){for(var e=fr(n),u,i=0;i<e.length;i++)if(B(e[i])){if(e[i]===n)break;u=e[i]}return!!u&&r(u)}},universal:function(r){return r}}});var V=y((qt,Kr)=>{Kr.exports={universal:50,tag:30,attribute:1,pseudo:0,descendant:-1,child:-1,parent:-1,sibling:-1,adjacent:-1}});var hr=y((Tt,gr)=>{gr.exports=zr;var K=V(),lr={__proto__:null,exists:10,equals:8,not:7,start:6,end:6,any:5,hyphen:4,element:4};function zr(r){for(var t=r.map(vr),n=1;n<r.length;n++){var e=t[n];if(!(e<0))for(var u=n-1;u>=0&&e<t[u];u--){var i=r[u+1];r[u+1]=r[u],r[u]=i,t[u+1]=t[u],t[u]=e}}}function vr(r){var t=K[r.type];if(t===K.attribute)t=lr[r.action],t===lr.equals&&r.name==="id"&&(t=9),r.ignoreCase&&(t>>=1);else if(t===K.pseudo)if(!r.data)t=3;else if(r.name==="has"||r.name==="contains")t=0;else if(r.name==="matches"||r.name==="not"){t=0;for(var n=0;n<r.data.length;n++)if(r.data[n].length===1){var e=vr(r.data[n][0]);if(e===0){t=0;break}e>t&&(t=e)}r.data.length>1&&t>0&&(t-=1)}else t=1;return t}});var Sr=y((Ft,N)=>{N.exports=Wr;N.exports.compileUnsafe=yr;N.exports.compileToken=x;var Hr=l("css-what"),F=l("domutils"),G=F.isTag,Gr=cr(),Jr=hr(),dr=l("boolbase"),T=dr.trueFunc,d=dr.falseFunc,Qr=V();function Wr(r,t,n){var e=yr(r,t,n);return br(e)}function br(r){return function(n){return G(n)&&r(n)}}function yr(r,t,n){var e=Hr(r,t);return x(e,t,n)}function Cr(r){return r.type==="pseudo"&&(r.name==="scope"||Array.isArray(r.data)&&r.data.some(function(t){return t.some(Cr)}))}var Xr={type:"descendant"},Yr={type:"pseudo",name:"scope"},mr={},Zr=F.getParent;function jr(r,t){var n=!!t&&!!t.length&&t.every(function(e){return e===mr||!!Zr(e)});r.forEach(function(e){if(!(e.length>0&&wr(e[0])&&e[0].type!=="descendant"))if(n&&!Cr(e))e.unshift(Xr);else return;e.unshift(Yr)})}function x(r,t,n){r=r.filter(function(u){return u.length>0}),r.forEach(Jr);var e=Array.isArray(n);return n=t&&t.context||n,n&&!e&&(n=[n]),jr(r,n),r.map(function(u){return rt(u,t,n,e)}).reduce(tt,d)}function wr(r){return Qr[r.type]<0}function rt(r,t,n,e){var u=e&&r[0].name==="scope"&&r[1].type==="descendant";return r.reduce(function(i,a,s){return i===d?i:Gr[a.type](i,a,t,n,u&&s===1)},t&&t.rootFunc||T)}function tt(r,t){return t===d||r===T?r:r===d||t===T?t:function(e){return r(e)||t(e)}}var nt=D(),H=nt.filters,pr=F.existsOne,G=F.isTag,z=F.getChildren;function Ar(r){return r.some(wr)}H.not=function(r,t,n,e){var u={xmlMode:!!(n&&n.xmlMode),strict:!!(n&&n.strict)};if(u.strict&&(t.length>1||t.some(Ar)))throw new SyntaxError("complex selectors in :not aren't allowed in strict mode");var i=x(t,u,e);return i===d?r:i===T?d:function(a){return!i(a)&&r(a)}};H.has=function(r,t,n){var e={xmlMode:!!(n&&n.xmlMode),strict:!!(n&&n.strict)},u=t.some(Ar)?[mr]:null,i=x(t,e,u);return i===d?d:i===T?function(a){return z(a).some(G)&&r(a)}:(i=br(i),u?function(s){return r(s)&&(u[0]=s,pr(i,z(s)))}:function(s){return r(s)&&pr(i,z(s))})};H.matches=function(r,t,n,e){var u={xmlMode:!!(n&&n.xmlMode),strict:!!(n&&n.strict),rootFunc:r};return x(t,u,e)}});var Q=y((xt,Fr)=>{"use strict";Fr.exports=v;var _r=D(),R=l("domutils"),et=R.findOne,ut=R.findAll,it=R.getChildren,at=R.removeSubsets,Er=l("boolbase").falseFunc,L=Sr(),qr=L.compileUnsafe,st=L.compileToken;function Tr(r){return function(n,e,u){return typeof n!="function"&&(n=qr(n,u,e)),Array.isArray(e)?e=at(e):e=it(e),r(n,e)}}var J=Tr(function(t,n){return t===Er||!n||n.length===0?[]:ut(t,n)}),ft=Tr(function(t,n){return t===Er||!n||n.length===0?null:et(t,n)});function ot(r,t,n){return(typeof t=="function"?t:L(t,n))(r)}function v(r,t,n){return J(r,t,n)}v.compile=L;v.filters=_r.filters;v.pseudos=_r.pseudos;v.selectAll=J;v.selectOne=ft;v.is=ot;v.parse=L;v.iterate=J;v._compileUnsafe=qr;v._compileToken=st});var b={};Rr(b,{_compileToken:()=>Ct,_compileUnsafe:()=>yt,compile:()=>ct,default:()=>wt,filters:()=>lt,is:()=>pt,iterate:()=>bt,parse:()=>dt,pseudos:()=>vt,selectAll:()=>gt,selectOne:()=>ht});var Lr=X(Q());C(b,X(Q()));var{compile:ct,filters:lt,pseudos:vt,selectAll:gt,selectOne:ht,is:pt,parse:dt,iterate:bt,_compileUnsafe:yt,_compileToken:Ct}=Lr,{default:xr,...mt}=Lr,wt=xr!==void 0?xr:mt;export{Ct as _compileToken,yt as _compileUnsafe,ct as compile,wt as default,lt as filters,pt as is,bt as iterate,dt as parse,vt as pseudos,gt as selectAll,ht as selectOne};
//# sourceMappingURL=css-select.mjs.map