/* esm.sh - esbuild bundle(domutils@1.5.1) denonext production */
import * as __0$ from "/v129/dom-serializer@0.2.2/denonext/dom-serializer.mjs";
import * as __1$ from "/v129/domelementtype@1.3.1/denonext/domelementtype.mjs";
var require=n=>{const e=m=>typeof m.default<"u"?m.default:m,c=m=>Object.assign({},m);switch(n){case"dom-serializer":return e(__0$);case"domelementtype":return e(__1$);default:throw new Error("module \""+n+"\" not found");}};
var z=Object.create;var E=Object.defineProperty;var J=Object.getOwnPropertyDescriptor;var K=Object.getOwnPropertyNames;var Q=Object.getPrototypeOf,X=Object.prototype.hasOwnProperty;var l=(r=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(r,{get:(n,t)=>(typeof require<"u"?require:n)[t]}):r)(function(r){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+r+'" is not supported')});var o=(r,n)=>()=>(n||r((n={exports:{}}).exports,n),n.exports),Z=(r,n)=>{for(var t in n)E(r,t,{get:n[t],enumerable:!0})},b=(r,n,t,i)=>{if(n&&typeof n=="object"||typeof n=="function")for(let f of K(n))!X.call(r,f)&&f!==t&&E(r,f,{get:()=>n[f],enumerable:!(i=J(n,f))||i.enumerable});return r},v=(r,n,t)=>(b(r,n,"default"),t&&b(t,n,"default")),P=(r,n,t)=>(t=r!=null?z(Q(r)):{},b(n||!r||!r.__esModule?E(t,"default",{value:r,enumerable:!0}):t,r));var q=o((pr,L)=>{var I=l("domelementtype"),D=l("dom-serializer"),$=I.isTag;L.exports={getInnerHTML:k,getOuterHTML:D,getText:N};function k(r,n){return r.children?r.children.map(function(t){return D(t,n)}).join(""):""}function N(r){return Array.isArray(r)?r.map(N).join(""):$(r)||r.type===I.CDATA?N(r.children):r.type===I.Text?r.data:""}});var S=o(p=>{var m=p.getChildren=function(r){return r.children},rr=p.getParent=function(r){return r.parent};p.getSiblings=function(r){var n=rr(r);return n?m(n):[r]};p.getAttributeValue=function(r,n){return r.attribs&&r.attribs[n]};p.hasAttrib=function(r,n){return!!r.attribs&&hasOwnProperty.call(r.attribs,n)};p.getName=function(r){return r.name}});var w=o(d=>{d.removeElement=function(r){if(r.prev&&(r.prev.next=r.next),r.next&&(r.next.prev=r.prev),r.parent){var n=r.parent.children;n.splice(n.lastIndexOf(r),1)}};d.replaceElement=function(r,n){var t=n.prev=r.prev;t&&(t.next=n);var i=n.next=r.next;i&&(i.prev=n);var f=n.parent=r.parent;if(f){var e=f.children;e[e.lastIndexOf(r)]=n}};d.appendChild=function(r,n){if(n.parent=r,r.children.push(n)!==1){var t=r.children[r.children.length-2];t.next=n,n.prev=t,n.next=null}};d.append=function(r,n){var t=r.parent,i=r.next;if(n.next=i,n.prev=r,r.next=n,n.parent=t,i){if(i.prev=n,t){var f=t.children;f.splice(f.lastIndexOf(i),0,n)}}else t&&t.children.push(n)};d.prepend=function(r,n){var t=r.parent;if(t){var i=t.children;i.splice(i.lastIndexOf(r),0,n)}r.prev&&(r.prev.next=n),n.parent=t,n.prev=r.prev,n.next=r,r.prev=n}});var M=o((gr,H)=>{var y=l("domelementtype").isTag;H.exports={filter:nr,find:C,findOneChild:tr,findOne:G,existsOne:F,findAll:j};function nr(r,n,t,i){return Array.isArray(n)||(n=[n]),(typeof i!="number"||!isFinite(i))&&(i=1/0),C(r,n,t!==!1,i)}function C(r,n,t,i){for(var f=[],e,u=0,O=n.length;u<O&&!(r(n[u])&&(f.push(n[u]),--i<=0)||(e=n[u].children,t&&e&&e.length>0&&(e=C(r,e,t,i),f=f.concat(e),i-=e.length,i<=0)));u++);return f}function tr(r,n){for(var t=0,i=n.length;t<i;t++)if(r(n[t]))return n[t];return null}function G(r,n){for(var t=null,i=0,f=n.length;i<f&&!t;i++)if(y(n[i]))r(n[i])?t=n[i]:n[i].children.length>0&&(t=G(r,n[i].children));else continue;return t}function F(r,n){for(var t=0,i=n.length;t<i;t++)if(y(n[t])&&(r(n[t])||n[t].children.length>0&&F(r,n[t].children)))return!0;return!1}function j(r,n){for(var t=[],i=0,f=n.length;i<f;i++)y(n[i])&&(r(n[i])&&t.push(n[i]),n[i].children.length>0&&(t=t.concat(j(r,n[i].children))));return t}});var W=o(h=>{var ir=l("domelementtype"),s=h.isTag=ir.isTag;h.testElement=function(r,n){for(var t in r)if(r.hasOwnProperty(t)){if(t==="tag_name"){if(!s(n)||!r.tag_name(n.name))return!1}else if(t==="tag_type"){if(!r.tag_type(n.type))return!1}else if(t==="tag_contains"){if(s(n)||!r.tag_contains(n.data))return!1}else if(!n.attribs||!r[t](n.attribs[t]))return!1}return!0};var x={tag_name:function(r){return typeof r=="function"?function(n){return s(n)&&r(n.name)}:r==="*"?s:function(n){return s(n)&&n.name===r}},tag_type:function(r){return typeof r=="function"?function(n){return r(n.type)}:function(n){return n.type===r}},tag_contains:function(r){return typeof r=="function"?function(n){return!s(n)&&r(n.data)}:function(n){return!s(n)&&n.data===r}}};function R(r,n){return typeof n=="function"?function(t){return t.attribs&&n(t.attribs[r])}:function(t){return t.attribs&&t.attribs[r]===n}}function fr(r,n){return function(t){return r(t)||n(t)}}h.getElements=function(r,n,t,i){var f=Object.keys(r).map(function(e){var u=r[e];return e in x?x[e](u):R(e,u)});return f.length===0?[]:this.filter(f.reduce(fr),n,t,i)};h.getElementById=function(r,n,t){return Array.isArray(n)||(n=[n]),this.findOne(R("id",r),n,t!==!1)};h.getElementsByTagName=function(r,n,t,i){return this.filter(x.tag_name(r),n,t,i)};h.getElementsByTagType=function(r,n,t,i){return this.filter(x.tag_type(r),n,t,i)}});var B=o(T=>{T.removeSubsets=function(r){for(var n=r.length,t,i,f;--n>-1;){for(t=i=r[n],r[n]=null,f=!0;i;){if(r.indexOf(i)>-1){f=!1,r.splice(n,1);break}i=i.parent}f&&(r[n]=t)}return r};var a={DISCONNECTED:1,PRECEDING:2,FOLLOWING:4,CONTAINS:8,CONTAINED_BY:16},er=T.compareDocumentPosition=function(r,n){var t=[],i=[],f,e,u,O,A,c;if(r===n)return 0;for(f=r;f;)t.unshift(f),f=f.parent;for(f=n;f;)i.unshift(f),f=f.parent;for(c=0;t[c]===i[c];)c++;return c===0?a.DISCONNECTED:(e=t[c-1],u=e.children,O=t[c],A=i[c],u.indexOf(O)>u.indexOf(A)?e===n?a.FOLLOWING|a.CONTAINED_BY:a.FOLLOWING:e===r?a.PRECEDING|a.CONTAINS:a.PRECEDING)};T.uniqueSort=function(r){var n=r.length,t,i;for(r=r.slice();--n>-1;)t=r[n],i=r.indexOf(t),i>-1&&i<n&&r.splice(n,1);return r.sort(function(f,e){var u=er(f,e);return u&a.PRECEDING?-1:u&a.FOLLOWING?1:0}),r}});var _=o((Or,U)=>{var Y=U.exports;[q(),S(),w(),M(),W(),B()].forEach(function(r){Object.keys(r).forEach(function(n){Y[n]=r[n].bind(Y)})})});var g={};Z(g,{default:()=>cr});var ur=P(_());v(g,P(_()));var{default:V,...ar}=ur,cr=V!==void 0?V:ar;export{cr as default};
//# sourceMappingURL=domutils.mjs.map